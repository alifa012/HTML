<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ShadowLogs iPhone Store</title>
  <style>
    body {
      background-image: url('https://i.pinimg.com/474x/21/d1/c8/21d1c8d4e5ebbf8fef56adf44869931b.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      background-repeat: no-repeat;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    .shake-blink {
      animation: shake 0.5s infinite alternate, blink 1.5s step-start infinite;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      50% { transform: translateX(-5px); }
      100% { transform: translateX(5px); }
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
    .glow-border {
      position: relative;
      z-index: 0;
    }
    .glow-border::before {
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      background: linear-gradient(45deg, #00f, #0ff, #0f0, #ff0, #f00, #f0f, #00f);
      background-size: 400% 400%;
      animation: glow-rotate 6s linear infinite;
      border-radius: 1rem;
      z-index: -1;
      filter: blur(8px);
    }
    @keyframes glow-rotate {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .error-message {
      color: red;
      font-size: 0.875rem;
      margin-top: 0.25rem;
    }
    .success-message {
      color: green;
      font-size: 0.875rem;
      margin-top: 0.25rem;
    }
    .product-grid {
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 10px;
    }
    .product-grid::-webkit-scrollbar {
      width: 8px;
    }
    .product-grid::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    .product-grid::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 10px;
    }
    .product-grid::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
    .product-image {
      height: 200px;
      object-fit: contain;
      width: 100%;
    }
    .content-bg {
      background-color: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(5px);
    }
    .sidebar-bg {
      background-color: rgba(31, 41, 55, 0.9);
      backdrop-filter: blur(5px);
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .tab-button {
      padding: 0.5rem 1rem;
      border: 1px solid #ccc;
      background-color: #f1f1f1;
      cursor: pointer;
      border-radius: 0.25rem;
      margin-right: 0.5rem;
    }
    .tab-button.active {
      background-color: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }
    .address-card, .payment-card {
      border: 1px solid #e5e7eb;
      border-radius: 0.5rem;
      padding: 1rem;
      margin-bottom: 1rem;
      position: relative;
    }
    .address-card .badge, .payment-card .badge {
      background-color: #dbeafe;
      color: #1e40af;
      font-size: 0.75rem;
      padding: 0.125rem 0.5rem;
      border-radius: 9999px;
      margin-left: 0.5rem;
    }
    .delete-button {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      background: none;
      border: none;
      cursor: pointer;
      color: #6b7280;
    }
    .delete-button:hover {
      color: #ef4444;
    }
    .profile-avatar {
      width: 8rem;
      height: 8rem;
      border-radius: 9999px;
      background-color: #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.25rem;
      color: #6b7280;
      margin-bottom: 1rem;
    }
    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }
    @media (max-width: 640px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
    }
    .hidden {
      display: none !important;
    }
    .w-full {
      width: 100%;
    }
    .max-w-md {
      max-width: 28rem;
    }
    .mx-auto {
      margin-left: auto;
      margin-right: auto;
    }
    .p-8 {
      padding: 2rem;
    }
    .rounded-xl {
      border-radius: 0.75rem;
    }
    .shadow {
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }
    .mt-10 {
      margin-top: 2.5rem;
    }
    .text-2xl {
      font-size: 1.5rem;
    }
    .font-bold {
      font-weight: 700;
    }
    .text-center {
      text-align: center;
    }
    .flex {
      display: flex;
    }
    .justify-center {
      justify-content: center;
    }
    .space-x-4 > * + * {
      margin-left: 1rem;
    }
    .mb-4 {
      margin-bottom: 1rem;
    }
    .my-4 {
      margin-top: 1rem;
      margin-bottom: 1rem;
    }
    .px-4 {
      padding-left: 1rem;
      padding-right: 1rem;
    }
    .py-2 {
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }
    .bg-blue-600 {
      background-color: #2563eb;
    }
    .text-white {
      color: white;
    }
    .rounded {
      border-radius: 0.25rem;
    }
    .hover\:bg-blue-700:hover {
      background-color: #1d4ed8;
    }
    .bg-gray-600 {
      background-color: #4b5563;
    }
    .hover\:bg-gray-700:hover {
      background-color: #374151;
    }
    .space-y-4 > * + * {
      margin-top: 1rem;
    }
    .space-y-2 > * + * {
      margin-top: 0.5rem;
    }
    .block {
      display: block;
    }
    .mb-1 {
      margin-bottom: 0.25rem;
    }
    .border {
      border-width: 1px;
    }
    .border-gray-300 {
      border-color: #d1d5db;
    }
    .p-2 {
      padding: 0.5rem;
    }
    .text-xs {
      font-size: 0.75rem;
    }
    .text-gray-500 {
      color: #6b7280;
    }
    .mt-1 {
      margin-top: 0.25rem;
    }
    .bg-gray-700 {
      background-color: #374151;
    }
    .hover\:bg-gray-800:hover {
      background-color: #1f2937;
    }
    .min-h-screen {
      min-height: 100vh;
    }
    .w-1\/4 {
      width: 25%;
    }
    .p-6 {
      padding: 1.5rem;
    }
    .space-y-6 > * + * {
      margin-top: 1.5rem;
    }
    .hover\:text-yellow-300:hover {
      color: #fcd34d;
    }
    .text-pink-300 {
      color: #f9a8d4;
    }
    .flex-1 {
      flex: 1 1 0%;
    }
    .overflow-y-auto {
      overflow-y: auto;
    }
    .text-3xl {
      font-size: 1.875rem;
    }
    .mb-6 {
      margin-bottom: 1.5rem;
    }
    .grid {
      display: grid;
    }
    .grid-cols-1 {
      grid-template-columns: repeat(1, minmax(0, 1fr));
    }
    .sm\:grid-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    .md\:grid-cols-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
    .gap-6 {
      gap: 1.5rem;
    }
    .bg-gray-100 {
      background-color: #f3f4f6;
    }
    .p-4 {
      padding: 1rem;
    }
    .text-xl {
      font-size: 1.25rem;
    }
    .font-semibold {
      font-weight: 600;
    }
    .text-gray-600 {
      color: #4b5563;
    }
    .text-sm {
      font-size: 0.875rem;
    }
    .mt-2 {
      margin-top: 0.5rem;
    }
    .bg-green-50 {
      background-color: #ecfdf5;
    }
    .text-green-600 {
      color: #059669;
    }
    .bg-yellow-50 {
      background-color: #fffbeb;
    }
    .text-yellow-600 {
      color: #d97706;
    }
    .bg-blue-50 {
      background-color: #eff6ff;
    }
    .text-blue-600 {
      color: #2563eb;
    }
    .bg-green-600 {
      background-color: #059669;
    }
    .hover\:bg-green-700:hover {
      background-color: #047857;
    }
    .bg-gray-50 {
      background-color: #f9fafb;
    }
    .rounded-lg {
      border-radius: 0.5rem;
    }
    .shadow-md {
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }
    .max-w-md {
      max-width: 28rem;
    }
    .h-screen {
      height: 100vh;
    }
    .active-section {
      color: #fcd34d;
    }
    .gap-2 {
      gap: 0.5rem;
    }
    .items-center {
      align-items: center;
    }
  </style>
</head>
<body class="min-h-screen">
  <!-- Login/Signup Section -->
  <div id="signup-section" class="relative w-full max-w-md mx-auto p-8 rounded-xl shadow mt-10 content-bg">
    <div class="absolute inset-0 -z-10 rounded-xl glow-border"></div>
    <h2 class="text-2xl font-bold text-center">Welcome to ShadowLogs</h2>
    <div class="flex justify-center space-x-4 my-4">
      <button id="signup-btn" onclick="switchForm(true)" class="px-4 py-2 rounded bg-gray-600 text-white hover:bg-gray-700">
        Sign Up
      </button>
      <button id="login-btn" onclick="switchForm(false)" class="px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700">
        Login
      </button>
    </div>

    <form id="signup-form" onsubmit="handleSignup(event)" class="space-y-4 hidden">
      <div class="space-y-2">
        <label for="email" class="block">Email or Phone Number</label>
        <input type="text" id="email" class="w-full border border-gray-300 p-2 rounded" required 
              onblur="validateEmailOrPhone(this)" />
        <div class="error-message"></div>
      </div>
      <div class="space-y-2">
        <label for="password" class="block">Password (min 6 characters)</label>
        <input type="password" id="password" class="w-full border border-gray-300 p-2 rounded" required 
              onblur="validatePassword(this)" />
        <div class="error-message"></div>
      </div>
      <div class="space-y-2">
        <label for="confirm-password" class="block">Confirm Password</label>
        <input type="password" id="confirm-password" class="w-full border border-gray-300 p-2 rounded" required 
              onblur="validateConfirmPassword(this)" />
        <div class="error-message"></div>
      </div>
      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Sign Up</button>
    </form>

    <form id="login-form" onsubmit="handleLogin(event)" class="space-y-4">
      <div class="space-y-2">
        <label for="login-email" class="block">Email or Phone Number</label>
        <input type="text" id="login-email" class="w-full border border-gray-300 p-2 rounded" required 
              onblur="validateEmailOrPhone(this)" />
        <div class="error-message"></div>
        <p class="text-xs text-gray-500">
          Email format: user@example.com<br>
          Phone format: +1234567890 (must start with +)
        </p>
      </div>
      <div class="space-y-2">
        <label for="login-password" class="block">Password (min 6 characters)</label>
        <input type="password" id="login-password" class="w-full border border-gray-300 p-2 rounded" required 
              onblur="validatePassword(this)" />
        <div class="error-message"></div>
      </div>
      <button type="submit" class="w-full bg-gray-700 text-white py-2 rounded hover:bg-gray-800">Login</button>
    </form>
  </div>

  <!-- Dashboard Section (Hidden Initially) -->
  <div id="store-section" class="w-full h-screen flex hidden">
    <aside class="w-1/4 sidebar-bg text-white p-6 space-y-6">
      <h2 class="text-2xl font-bold">Dashboard</h2>
      <ul class="space-y-4">
        <li>
          <a href="#" id="nav-products" onclick="showProducts()" class="flex items-center gap-2 w-full text-left hover:text-yellow-300 active-section">
            <span>Home</span>
          </a>
        </li>
        <li>
          <a href="#" id="nav-orders" onclick="showOrders()" class="flex items-center gap-2 w-full text-left hover:text-yellow-300">
            <span>Orders</span>
          </a>
        </li>
        <li>
          <a href="#" id="nav-order-form" onclick="showOrderForm()" class="flex items-center gap-2 w-full text-left hover:text-yellow-300 font-bold text-pink-300 shake-blink">
            <span>Order Now</span>
          </a>
        </li>
        <li>
          <a href="#" id="nav-profile" onclick="showProfile()" class="flex items-center gap-2 w-full text-left hover:text-yellow-300">
            <span>Profile</span>
          </a>
        </li>
        <li>
          <a href="#" id="nav-account" onclick="showAccountManagement()" class="flex items-center gap-2 w-full text-left hover:text-yellow-300">
            <span>Account Management</span>
          </a>
        </li>
        <li>
          <a href="#" id="nav-settings" onclick="showSettings()" class="flex items-center gap-2 w-full text-left hover:text-yellow-300">
            <span>Settings</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="handleLogout()" class="flex items-center gap-2 w-full text-left hover:text-yellow-300">
            <span>Logout</span>
          </a>
        </li>
      </ul>
    </aside>

    <main class="flex-1 content-bg p-8 overflow-y-auto">
      <section id="products-section">
        <h1 class="text-3xl font-bold mb-6">iPhone Collection</h1>
        <div class="product-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
          <!-- iPhone 15 Series -->
          <div class="bg-gray-100 rounded-xl shadow p-4">
            <img src="https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-15-pro-finish-select-202309-6-1inch?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1693009279096" alt="iPhone 15 Pro Max" class="product-image rounded-lg mb-4">
            <h2 class="text-xl font-semibold">iPhone 15 Pro Max</h2>
            <p class="text-gray-600">From $1099</p>
            <p class="text-sm text-gray-500">6.7" Super Retina XDR, A17 Pro, Titanium</p>
            <button class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Buy Now</button>
          </div>
          
          <div class="bg-gray-100 rounded-xl shadow p-4">
            <img src="https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-15-pro-finish-select-202309-6-1inch-blue?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1693009278906" alt="iPhone 15 Pro" class="product-image rounded-lg mb-4">
            <h2 class="text-xl font-semibold">iPhone 15 Pro</h2>
            <p class="text-gray-600">From $999</p>
            <p class="text-sm text-gray-500">6.1" Super Retina XDR, A17 Pro, Titanium</p>
            <button class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Buy Now</button>
          </div>
          
          <div class="bg-gray-100 rounded-xl shadow p-4">
            <img src="https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-15-finish-select-202309-6-1inch-pink?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1692927223578" alt="iPhone 15" class="product-image rounded-lg mb-4">
            <h2 class="text-xl font-semibold">iPhone 15</h2>
            <p class="text-gray-600">From $799</p>
            <p class="text-sm text-gray-500">6.1" Super Retina XDR, A16 Bionic, Color-infused glass</p>
            <button class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Buy Now</button>
          </div>
          
          <div class="bg-gray-100 rounded-xl shadow p-4">
            <img src="https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-15-plus-finish-select-202309-6-1inch-blue?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1692927223578" alt="iPhone 15 Plus" class="product-image rounded-lg mb-4">
            <h2 class="text-xl font-semibold">iPhone 15 Plus</h2>
            <p class="text-gray-600">From $899</p>
            <p class="text-sm text-gray-500">6.7" Super Retina XDR, A16 Bionic, Color-infused glass</p>
            <button class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Buy Now</button>
          </div>

          <!-- iPhone 14 Series -->
          <div class="bg-gray-100 rounded-xl shadow p-4">
            <img src="https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-14-pro-finish-select-202209-6-7inch?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1663703841896" alt="iPhone 14 Pro Max" class="product-image rounded-lg mb-4">
            <h2 class="text-xl font-semibold">iPhone 14 Pro Max</h2>
            <p class="text-gray-600">From $1099</p>
            <p class="text-sm text-gray-500">6.7" Super Retina XDR, A16 Bionic, Dynamic Island</p>
            <button class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Buy Now</button>
          </div>
          
          <div class="bg-gray-100 rounded-xl shadow p-4">
            <img src="https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-14-pro-finish-select-202209-6-1inch?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1663703841896" alt="iPhone 14 Pro" class="product-image rounded-lg mb-4">
            <h2 class="text-xl font-semibold">iPhone 14 Pro</h2>
            <p class="text-gray-600">From $999</p>
            <p class="text-sm text-gray-500">6.1" Super Retina XDR, A16 Bionic, Dynamic Island</p>
            <button class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Buy Now</button>
          </div>
          
          <div class="bg-gray-100 rounded-xl shadow p-4">
            <img src="https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-14-finish-select-202209-6-1inch?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1661027202348" alt="iPhone 14" class="product-image rounded-lg mb-4">
            <h2 class="text-xl font-semibold">iPhone 14</h2>
            <p class="text-gray-600">From $799</p>
            <p class="text-sm text-gray-500">6.1" Super Retina XDR, A15 Bionic, Ceramic Shield</p>
            <button class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Buy Now</button>
          </div>
          
          <div class="bg-gray-100 rounded-xl shadow p-4">
            <img src="https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-14-plus-finish-select-202209-6-1inch?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1661027202348" alt="iPhone 14 Plus" class="product-image rounded-lg mb-4">
            <h2 class="text-xl font-semibold">iPhone 14 Plus</h2>
            <p class="text-gray-600">From $899</p>
            <p class="text-sm text-gray-500">6.7" Super Retina XDR, A15 Bionic, Ceramic Shield</p>
            <button class="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Buy Now</button>
          </div>

          <!-- More iPhones can be added here -->
        </div>
      </section>

      <section id="orders-section" class="hidden">
        <h1 class="text-3xl font-bold mb-6">Your Orders</h1>
        <div class="space-y-4">
          <div class="p-4 border rounded shadow-md bg-green-50">
            <p><strong>Order ID:</strong> 82347</p>
            <p><strong>Item:</strong> iPhone 15 Pro Max</p>
            <p><strong>Status:</strong> <span class="text-green-600 font-semibold">Shipped</span></p>
          </div>
          <div class="p-4 border rounded shadow-md bg-yellow-50">
            <p><strong>Order ID:</strong> 73455</p>
            <p><strong>Item:</strong> iPhone 14</p>
            <p><strong>Status:</strong> <span class="text-yellow-600 font-semibold">In Transit</span></p>
          </div>
          <div class="p-4 border rounded shadow-md bg-blue-50">
            <p><strong>Order ID:</strong> 91834</p>
            <p><strong>Item:</strong> iPhone 13 Pro Max</p>
            <p><strong>Status:</strong> <span class="text-blue-600 font-semibold">Dispatched</span></p>
          </div>
        </div>
      </section>

      <section id="order-form-section" class="hidden">
        <h1 class="text-3xl font-bold mb-6">Place a New Order</h1>
        <form onsubmit="handlePayment(event)" class="space-y-4 max-w-md">
          <div class="space-y-2">
            <label for="model" class="block">Select iPhone Model</label>
            <select id="model" class="w-full border border-gray-300 p-2 rounded" required>
              <option value="" disabled selected>Select a model</option>
              <option>iPhone 15 Pro Max</option>
              <option>iPhone 15 Pro</option>
              <option>iPhone 15</option>
              <option>iPhone 15 Plus</option>
              <option>iPhone 14 Pro Max</option>
              <option>iPhone 14 Pro</option>
              <option>iPhone 14</option>
              <option>iPhone 14 Plus</option>
              <option>iPhone 13 Pro Max</option>
              <option>iPhone 13 Pro</option>
              <option>iPhone 13</option>
              <option>iPhone 13 mini</option>
              <option>iPhone SE (2022)</option>
              <option>iPhone 12</option>
              <option>iPhone 11</option>
              <option>iPhone XS Max</option>
            </select>
          </div>
          <div class="space-y-2">
            <label for="payment" class="block">Select Payment Method</label>
            <select id="payment" class="w-full border border-gray-300 p-2 rounded">
              <option>Visa</option>
              <option>MasterCard</option>
              <option>PayPal</option>
              <option>Safaricom</option>
            </select>
          </div>
          <button type="submit" class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700">Proceed to Pay</button>
        </form>
      </section>

      <section id="settings-section" class="hidden">
        <h1 class="text-3xl font-bold mb-6">Account Settings</h1>
        
        <div class="bg-gray-50 p-6 rounded-lg shadow-md max-w-md">
          <h2 class="text-xl font-semibold mb-4">Change Password</h2>
          <form onsubmit="handlePasswordChange(event)" class="space-y-4">
            <div class="space-y-2">
              <label for="new-password" class="block">New Password (min 6 characters)</label>
              <input type="password" id="new-password" class="w-full border border-gray-300 p-2 rounded" required 
                    onblur="validatePassword(this)" />
              <div class="error-message"></div>
            </div>
            <div class="space-y-2">
              <label for="confirm-new-password" class="block">Confirm New Password</label>
              <input type="password" id="confirm-new-password" class="w-full border border-gray-300 p-2 rounded" required 
                    onblur="validateConfirmPassword(this, 'new')" />
              <div class="error-message"></div>
            </div>
            <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Change Password</button>
            <div id="password-message" class="mt-2"></div>
          </form>
        </div>
      </section>

      <!-- Profile Section -->
      <section id="profile-section" class="hidden">
        <h1 class="text-3xl font-bold mb-6">Your Profile</h1>
        
        <div class="grid gap-6 md:grid-cols-2">
          <div class="bg-gray-50 p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold mb-4">Profile Information</h2>
            <div id="profile-view" class="space-y-4">
              <div>
                <h3 class="font-medium text-sm text-gray-500">Full Name</h3>
                <p id="profile-name">John Doe</p>
              </div>
              <div>
                <h3 class="font-medium text-sm text-gray-500">Email</h3>
                <p id="profile-email">john.doe@example.com</p>
              </div>
              <div>
                <h3 class="font-medium text-sm text-gray-500">Phone</h3>
                <p id="profile-phone">+1234567890</p>
              </div>
              <div>
                <h3 class="font-medium text-sm text-gray-500">Bio</h3>
                <p id="profile-bio">iPhone enthusiast and tech lover.</p>
              </div>
              <button onclick="toggleProfileEdit(true)" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Edit Profile</button>
            </div>
            
            <form id="profile-edit" class="space-y-4 hidden" onsubmit="updateProfile(event)">
              <div class="space-y-2">
                <label for="edit-name" class="block">Full Name</label>
                <input type="text" id="edit-name" class="w-full border border-gray-300 p-2 rounded" required />
              </div>
              <div class="space-y-2">
                <label for="edit-email" class="block">Email</label>
                <input type="email" id="edit-email" class="w-full border border-gray-300 p-2 rounded" required />
              </div>
              <div class="space-y-2">
                <label for="edit-phone" class="block">Phone</label>
                <input type="text" id="edit-phone" class="w-full border border-gray-300 p-2 rounded" required />
              </div>
              <div class="space-y-2">
                <label for="edit-bio" class="block">Bio</label>
                <textarea id="edit-bio" class="w-full border border-gray-300 p-2 rounded" rows="3"></textarea>
              </div>
              <div class="flex gap-2">
                <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Save Changes</button>
                <button type="button" onclick="toggleProfileEdit(false)" class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-100">Cancel</button>
              </div>
            </form>
            
            <div id="profile-message" class="mt-4 text-sm hidden"></div>
          </div>
          
          <div class="bg-gray-50 p-6 rounded-lg shadow-md flex flex-col items-center">
            <h2 class="text-xl font-semibold mb-4 self-start">Profile Picture</h2>
            <div class="profile-avatar" id="profile-avatar">JD</div>
            <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Upload New Picture</button>
          </div>
        </div>
      </section>

      <!-- Account Management Section -->
      <section id="account-management-section" class="hidden">
        <h1 class="text-3xl font-bold mb-6">Account Management</h1>
        
        <div class="mb-4">
          <div class="flex mb-4">
            <button id="addresses-tab" class="tab-button active" onclick="switchTab('addresses')">Shipping Addresses</button>
            <button id="payments-tab" class="tab-button" onclick="switchTab('payments')">Payment Methods</button>
          </div>
          
          <div id="addresses-content" class="tab-content active">
            <div class="grid gap-6 md:grid-cols-2">
              <div class="bg-gray-50 p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Your Addresses</h2>
                <div id="addresses-list" class="space-y-4">
                  <!-- Addresses will be populated by JavaScript -->
                </div>
                <div id="address-message" class="mt-4 text-sm hidden"></div>
              </div>
              
              <div class="bg-gray-50 p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Add New Address</h2>
                <form id="add-address-form" class="space-y-4" onsubmit="addAddress(event)">
                  <div class="space-y-2">
                    <label for="address-name" class="block">Address Name</label>
                    <input type="text" id="address-name" placeholder="Home, Work, etc." class="w-full border border-gray-300 p-2 rounded" required />
                  </div>
                  <div class="space-y-2">
                    <label for="address-street" class="block">Street Address</label>
                    <input type="text" id="address-street" class="w-full border border-gray-300 p-2 rounded" required />
                  </div>
                  <div class="form-grid">
                    <div class="space-y-2">
                      <label for="address-city" class="block">City</label>
                      <input type="text" id="address-city" class="w-full border border-gray-300 p-2 rounded" required />
                    </div>
                    <div class="space-y-2">
                      <label for="address-state" class="block">State</label>
                      <input type="text" id="address-state" class="w-full border border-gray-300 p-2 rounded" required />
                    </div>
                  </div>
                  <div class="form-grid">
                    <div class="space-y-2">
                      <label for="address-zip" class="block">ZIP Code</label>
                      <input type="text" id="address-zip" class="w-full border border-gray-300 p-2 rounded" required />
                    </div>
                    <div class="space-y-2">
                      <label for="address-country" class="block">Country</label>
                      <select id="address-country" class="w-full border border-gray-300 p-2 rounded">
                        <option value="USA">United States</option>
                        <option value="Canada">Canada</option>
                        <option value="UK">United Kingdom</option>
                        <option value="Australia">Australia</option>
                      </select>
                    </div>
                  </div>
                  <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Add Address</button>
                </form>
              </div>
            </div>
          </div>
          
          <div id="payments-content" class="tab-content">
            <div class="grid gap-6 md:grid-cols-2">
              <div class="bg-gray-50 p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Your Payment Methods</h2>
                <div id="payments-list" class="space-y-4">
                  <!-- Payment methods will be populated by JavaScript -->
                </div>
                <div id="payment-message" class="mt-4 text-sm hidden"></div>
              </div>
              
              <div class="bg-gray-50 p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold mb-4">Add New Payment Method</h2>
                <form id="add-payment-form" class="space-y-4" onsubmit="addPayment(event)">
                  <div class="space-y-2">
                    <label for="payment-type" class="block">Card Type</label>
                    <select id="payment-type" class="w-full border border-gray-300 p-2 rounded">
                      <option value="Visa">Visa</option>
                      <option value="MasterCard">MasterCard</option>
                      <option value="American Express">American Express</option>
                      <option value="Discover">Discover</option>
                    </select>
                  </div>
                  <div class="space-y-2">
                    <label for="payment-number" class="block">Card Number</label>
                    <input type="text" id="payment-number" placeholder="1234 5678 9012 3456" class="w-full border border-gray-300 p-2 rounded" required />
                  </div>
                  <div class="form-grid">
                    <div class="space-y-2">
                      <label for="payment-expiry" class="block">Expiry Date</label>
                      <input type="text" id="payment-expiry" placeholder="MM/YY" class="w-full border border-gray-300 p-2 rounded" required />
                    </div>
                    <div class="space-y-2">
                      <label for="payment-cvv" class="block">CVV</label>
                      <input type="text" id="payment-cvv" placeholder="123" class="w-full border border-gray-300 p-2 rounded" required />
                    </div>
                  </div>
                  <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Add Payment Method</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Initial data
    const userData = {
      profile: {
        fullName: "John Doe",
        email: "john.doe@example.com",
        phone: "+1234567890",
        bio: "iPhone enthusiast and tech lover."
      },
      addresses: [
        {
          id: 1,
          name: "Home",
          street: "123 Main Street",
          city: "New York",
          state: "NY",
          zip: "10001",
          country: "USA",
          isDefault: true
        },
        {
          id: 2,
          name: "Work",
          street: "456 Business Ave",
          city: "San Francisco",
          state: "CA",
          zip: "94105",
          country: "USA",
          isDefault: false
        }
      ],
      paymentMethods: [
        {
          id: 1,
          type: "Visa",
          number: "•••• •••• •••• 4242",
          expiry: "12/25",
          isDefault: true
        },
        {
          id: 2,
          type: "MasterCard",
          number: "•••• •••• •••• 5555",
          expiry: "10/24",
          isDefault: false
        }
      ]
    };

    // Login/Signup Functions
    function switchForm(showSignup) {
      document.getElementById('signup-form').classList.toggle('hidden', !showSignup);
      document.getElementById('login-form').classList.toggle('hidden', showSignup);
      document.getElementById('signup-btn').classList.toggle('bg-blue-600', showSignup);
      document.getElementById('signup-btn').classList.toggle('bg-gray-600', !showSignup);
      document.getElementById('login-btn').classList.toggle('bg-blue-600', !showSignup);
      document.getElementById('login-btn').classList.toggle('bg-gray-600', showSignup);
      document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
    }

    function validateEmailOrPhone(input) {
      const value = input.value.trim();
      const errorElement = input.nextElementSibling;
      
      if (value.startsWith('+')) {
        if (!/^\+[0-9]+$/.test(value)) {
          errorElement.textContent = 'Phone number must contain only numbers after +';
          return false;
        }
        if (value.length < 8 || value.length > 15) {
          errorElement.textContent = 'Phone number must be between 8-15 digits including +';
          return false;
        }
      } else {
        if (!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(value)) {
          errorElement.textContent = 'Please enter a valid email address';
          return false;
        }
      }
      
      errorElement.textContent = '';
      return true;
    }

    function validatePassword(input) {
      const value = input.value;
      const errorElement = input.nextElementSibling;
      
      if (value.length < 6) {
        errorElement.textContent = 'Password must be at least 6 characters long';
        return false;
      }
      
      errorElement.textContent = '';
      return true;
    }

    function validateConfirmPassword(input, type = '') {
      const value = input.value;
      const errorElement = input.nextElementSibling;
      const passwordId = type === 'new' ? 'new-password' : 'password';
      const password = document.getElementById(passwordId).value;
      
      if (value !== password) {
        errorElement.textContent = 'Passwords do not match!';
        return false;
      }
      
      errorElement.textContent = '';
      return true;
    }

    function handleSignup(event) {
      event.preventDefault();
      const email = document.getElementById('email');
      const password = document.getElementById('password');
      const confirmPassword = document.getElementById('confirm-password');

      const isEmailValid = validateEmailOrPhone(email);
      const isPasswordValid = validatePassword(password);
      const isConfirmValid = validateConfirmPassword(confirmPassword);

      if (!isEmailValid || !isPasswordValid || !isConfirmValid) return;

      document.getElementById('signup-section').classList.add('hidden');
      document.getElementById('store-section').classList.remove('hidden');
      
      // Initialize sections
      renderAddresses();
      renderPaymentMethods();
      updateProfileAvatar();
      updateProfileInfo();
    }

    function handleLogin(event) {
      event.preventDefault();
      const loginEmail = document.getElementById('login-email');
      const loginPassword = document.getElementById('login-password');

      const isEmailValid = validateEmailOrPhone(loginEmail);
      const isPasswordValid = validatePassword(loginPassword);

      if (!isEmailValid || !isPasswordValid) return;

      document.getElementById('signup-section').classList.add('hidden');
      document.getElementById('store-section').classList.remove('hidden');
      
      // Initialize sections
      renderAddresses();
      renderPaymentMethods();
      updateProfileAvatar();
      updateProfileInfo();
    }

    // Navigation Functions
    function updateNavigation(activeSection) {
      // Remove active class from all nav items
      document.querySelectorAll('aside a').forEach(item => {
        item.classList.remove('active-section');
      });
      
      // Add active class to current section
      if (activeSection) {
        document.getElementById('nav-' + activeSection).classList.add('active-section');
      }
    }

    function showProducts() {
      hideAllSections();
      document.getElementById('products-section').classList.remove('hidden');
      updateNavigation('products');
    }

    function showOrders() {
      hideAllSections();
      document.getElementById('orders-section').classList.remove('hidden');
      updateNavigation('orders');
    }

    function showOrderForm() {
      hideAllSections();
      document.getElementById('order-form-section').classList.remove('hidden');
      updateNavigation('order-form');
    }

    function showSettings() {
      hideAllSections();
      document.getElementById('settings-section').classList.remove('hidden');
      updateNavigation('settings');
    }
    
    function showProfile() {
      hideAllSections();
      document.getElementById('profile-section').classList.remove('hidden');
      updateNavigation('profile');
    }
    
    function showAccountManagement() {
      hideAllSections();
      document.getElementById('account-management-section').classList.remove('hidden');
      updateNavigation('account');
    }

    function hideAllSections() {
      const sections = [
        'products-section', 
        'orders-section', 
        'order-form-section', 
        'settings-section',
        'profile-section',
        'account-management-section'
      ];
      
      sections.forEach(section => {
        document.getElementById(section).classList.add('hidden');
      });
    }

    function handleLogout() {
      document.getElementById('store-section').classList.add('hidden');
      document.getElementById('signup-section').classList.remove('hidden');
      
      document.getElementById('signup-form').reset();
      document.getElementById('login-form').reset();
      
      document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
      
      document.getElementById('signup-form').classList.add('hidden');
      document.getElementById('login-form').classList.remove('hidden');
      
      document.getElementById('signup-btn').classList.remove('bg-blue-600');
      document.getElementById('signup-btn').classList.add('bg-gray-600');
      document.getElementById('login-btn').classList.add('bg-blue-600');
      document.getElementById('login-btn').classList.remove('bg-gray-600');
    }

    // Order Form Functions
    function handlePayment(event) {
      event.preventDefault();
      const modelSelect = document.getElementById('model');
      const paymentSelect = document.getElementById('payment');
      
      if (!modelSelect.value || modelSelect.value === 'Select a model') {
        alert('Please select an iPhone model');
        return;
      }
      
      const confirmation = confirm(`Confirm payment for ${modelSelect.value} via ${paymentSelect.value}?`);
      
      if (confirmation) {
        alert('Payment processed successfully! Your order has been placed.');
        // Here you would typically send the order to your backend
        showOrders();
      } else {
        alert('Payment was cancelled');
      }
    }

    // Settings Functions
    function handlePasswordChange(event) {
      event.preventDefault();
      const newPassword = document.getElementById('new-password');
      const confirmPassword = document.getElementById('confirm-new-password');
      const messageElement = document.getElementById('password-message');

      const isNewValid = validatePassword(newPassword);
      const isConfirmValid = validateConfirmPassword(confirmPassword, 'new');

      if (!isNewValid || !isConfirmValid) {
        messageElement.textContent = '';
        return;
      }

      const shouldChange = confirm('Are you sure you want to change your password?');
      
      if (shouldChange) {
        messageElement.textContent = 'Password changed successfully!';
        messageElement.className = 'success-message';
        
        newPassword.value = '';
        confirmPassword.value = '';
        
        setTimeout(() => {
          messageElement.textContent = '';
        }, 3000);
      } else {
        messageElement.textContent = 'Password change cancelled';
        messageElement.className = 'error-message';
        
        setTimeout(() => {
          messageElement.textContent = '';
        }, 3000);
      }
    }
    
    // Profile Functions
    function updateProfileInfo() {
      document.getElementById('profile-name').textContent = userData.profile.fullName;
      document.getElementById('profile-email').textContent = userData.profile.email;
      document.getElementById('profile-phone').textContent = userData.profile.phone;
      document.getElementById('profile-bio').textContent = userData.profile.bio;
    }
    
    function toggleProfileEdit(showEdit) {
      if (showEdit) {
        document.getElementById('profile-view').classList.add('hidden');
        document.getElementById('profile-edit').classList.remove('hidden');
        
        // Populate form with current values
        document.getElementById('edit-name').value = userData.profile.fullName;
        document.getElementById('edit-email').value = userData.profile.email;
        document.getElementById('edit-phone').value = userData.profile.phone;
        document.getElementById('edit-bio').value = userData.profile.bio;
      } else {
        document.getElementById('profile-view').classList.remove('hidden');
        document.getElementById('profile-edit').classList.add('hidden');
      }
    }
    
    function updateProfile(event) {
      event.preventDefault();
      
      // Update user data
      userData.profile.fullName = document.getElementById('edit-name').value;
      userData.profile.email = document.getElementById('edit-email').value;
      userData.profile.phone = document.getElementById('edit-phone').value;
      userData.profile.bio = document.getElementById('edit-bio').value;
      
      // Update display
      updateProfileInfo();
      
      // Show success message
      const messageElement = document.getElementById('profile-message');
      messageElement.textContent = 'Profile updated successfully!';
      messageElement.className = 'text-green-500';
      messageElement.classList.remove('hidden');
      
      // Hide edit form
      toggleProfileEdit(false);
      
      // Update avatar
      updateProfileAvatar();
      
      setTimeout(() => {
        messageElement.classList.add('hidden');
      }, 3000);
    }
    
    function updateProfileAvatar() {
      const avatar = document.getElementById('profile-avatar');
      const initials = userData.profile.fullName
        .split(' ')
        .map(name => name[0])
        .join('');
      
      avatar.textContent = initials;
    }
    
    // Account Management Functions
    function switchTab(tab) {
      // Update tab buttons
      document.getElementById('addresses-tab').classList.toggle('active', tab === 'addresses');
      document.getElementById('payments-tab').classList.toggle('active', tab === 'payments');
      
      // Update tab content
      document.getElementById('addresses-content').classList.toggle('active', tab === 'addresses');
      document.getElementById('payments-content').classList.toggle('active', tab === 'payments');
    }
    
    function renderAddresses() {
      const container = document.getElementById('addresses-list');
      container.innerHTML = '';
      
      if (userData.addresses.length === 0) {
        container.innerHTML = '<p class="text-gray-500">No addresses saved yet.</p>';
        return;
      }
      
      userData.addresses.forEach(address => {
        const addressElement = document.createElement('div');
        addressElement.className = 'address-card';
        
        addressElement.innerHTML = `
          <button class="delete-button" onclick="deleteAddress(${address.id})">×</button>
          <div class="space-y-1">
            <div class="flex items-center">
              <h3 class="font-semibold">${address.name}</h3>
              ${address.isDefault ? '<span class="badge">Default</span>' : ''}
            </div>
            <p>${address.street}</p>
            <p>${address.city}, ${address.state} ${address.zip}</p>
            <p>${address.country}</p>
          </div>
          ${!address.isDefault ? `<button class="px-3 py-1 mt-2 border border-gray-300 rounded hover:bg-gray-100" onclick="setDefaultAddress(${address.id})">Set as Default</button>` : ''}
        `;
        
        container.appendChild(addressElement);
      });
    }
    
    function renderPaymentMethods() {
      const container = document.getElementById('payments-list');
      container.innerHTML = '';
      
      if (userData.paymentMethods.length === 0) {
        container.innerHTML = '<p class="text-gray-500">No payment methods saved yet.</p>';
        return;
      }
      
      userData.paymentMethods.forEach(payment => {
        const paymentElement = document.createElement('div');
        paymentElement.className = 'payment-card';
        
        paymentElement.innerHTML = `
          <button class="delete-button" onclick="deletePayment(${payment.id})">×</button>
          <div class="space-y-1">
            <div class="flex items-center">
              <h3 class="font-semibold">${payment.type}</h3>
              ${payment.isDefault ? '<span class="badge">Default</span>' : ''}
            </div>
            <p>${payment.number}</p>
            <p>Expires: ${payment.expiry}</p>
          </div>
          ${!payment.isDefault ? `<button class="px-3 py-1 mt-2 border border-gray-300 rounded hover:bg-gray-100" onclick="setDefaultPayment(${payment.id})">Set as Default</button>` : ''}
        `;
        
        container.appendChild(paymentElement);
      });
    }
    
    function addAddress(event) {
      event.preventDefault();
      
      const newAddress = {
        id: userData.addresses.length > 0 ? Math.max(...userData.addresses.map(a => a.id)) + 1 : 1,
        name: document.getElementById('address-name').value,
        street: document.getElementById('address-street').value,
        city: document.getElementById('address-city').value,
        state: document.getElementById('address-state').value,
        zip: document.getElementById('address-zip').value,
        country: document.getElementById('address-country').value,
        isDefault: userData.addresses.length === 0
      };
      
      userData.addresses.push(newAddress);
      
      // Reset form
      document.getElementById('add-address-form').reset();
      
      // Show success message
      const messageElement = document.getElementById('address-message');
      messageElement.textContent = 'Address added successfully!';
      messageElement.className = 'text-green-500';
      messageElement.classList.remove('hidden');
      
      // Re-render addresses
      renderAddresses();
      
      setTimeout(() => {
        messageElement.classList.add('hidden');
      }, 3000);
    }
    
    function addPayment(event) {
      event.preventDefault();
      
      const cardNumber = document.getElementById('payment-number').value;
      const expiry = document.getElementById('payment-expiry').value;
      const cvv = document.getElementById('payment-cvv').value;
      
      // Basic validation
      if (cardNumber.length < 16) {
        const messageElement = document.getElementById('payment-message');
        messageElement.textContent = 'Please enter a valid card number';
        messageElement.className = 'text-red-500';
        messageElement.classList.remove('hidden');
        return;
      }
      
      if (!/^\d{2}\/\d{2}$/.test(expiry)) {
        const messageElement = document.getElementById('payment-message');
        messageElement.textContent = 'Expiry date should be in MM/YY format';
        messageElement.className = 'text-red-500';
        messageElement.classList.remove('hidden');
        return;
      }
      
      if (cvv.length < 3) {
        const messageElement = document.getElementById('payment-message');
        messageElement.textContent = 'Please enter a valid CVV';
        messageElement.className = 'text-red-500';
        messageElement.classList.remove('hidden');
        return;
      }
      
      const newPayment = {
        id: userData.paymentMethods.length > 0 ? Math.max(...userData.paymentMethods.map(p => p.id)) + 1 : 1,
        type: document.getElementById('payment-type').value,
        number: '•••• •••• •••• ' + cardNumber.slice(-4),
        expiry: expiry,
        isDefault: userData.paymentMethods.length === 0
      };
      
      userData.paymentMethods.push(newPayment);
      
      // Reset form
      document.getElementById('add-payment-form').reset();
      
      // Show success message
      const messageElement = document.getElementById('payment-message');
      messageElement.textContent = 'Payment method added successfully!';
      messageElement.className = 'text-green-500';
      messageElement.classList.remove('hidden');
      
      // Re-render payment methods
      renderPaymentMethods();
      
      setTimeout(() => {
        messageElement.classList.add('hidden');
      }, 3000);
    }
    
    function setDefaultAddress(id) {
      userData.addresses = userData.addresses.map(address => ({
        ...address,
        isDefault: address.id === id
      }));
      
      // Show success message
      const messageElement = document.getElementById('address-message');
      messageElement.textContent = 'Default address updated!';
      messageElement.className = 'text-green-500';
      messageElement.classList.remove('hidden');
      
      // Re-render addresses
      renderAddresses();
      
      setTimeout(() => {
        messageElement.classList.add('hidden');
      }, 3000);
    }
    
    function setDefaultPayment(id) {
      userData.paymentMethods = userData.paymentMethods.map(payment => ({
        ...payment,
        isDefault: payment.id === id
      }));
      
      // Show success message
      const messageElement = document.getElementById('payment-message');
      messageElement.textContent = 'Default payment method updated!';
      messageElement.className = 'text-green-500';
      messageElement.classList.remove('hidden');
      
      // Re-render payment methods
      renderPaymentMethods();
      
      setTimeout(() => {
        messageElement.classList.add('hidden');
      }, 3000);
    }
    
    function deleteAddress(id) {
      const addressToDelete = userData.addresses.find(a => a.id === id);
      
      if (addressToDelete.isDefault && userData.addresses.length > 1) {
        alert('You cannot delete your default address. Please set another address as default first.');
        return;
      }
      
      userData.addresses = userData.addresses.filter(address => address.id !== id);
      
      // Show success message
      const messageElement = document.getElementById('address-message');
      messageElement.textContent = 'Address deleted!';
      messageElement.className = 'text-green-500';
      messageElement.classList.remove('hidden');
      
      // Re-render addresses
      renderAddresses();
      
      setTimeout(() => {
        messageElement.classList.add('hidden');
      }, 3000);
    }
    
    function deletePayment(id) {
      const paymentToDelete = userData.paymentMethods.find(p => p.id === id);
      
      if (paymentToDelete.isDefault && userData.paymentMethods.length > 1) {
        alert('You cannot delete your default payment method. Please set another payment method as default first.');
        return;
      }
      
      userData.paymentMethods = userData.paymentMethods.filter(payment => payment.id !== id);
      
      // Show success message
      const messageElement = document.getElementById('payment-message');
      messageElement.textContent = 'Payment method deleted!';
      messageElement.className = 'text-green-500';
      messageElement.classList.remove('hidden');
      
      // Re-render payment methods
      renderPaymentMethods();
      
      setTimeout(() => {
        messageElement.classList.add('hidden');
      }, 3000);
    }
  </script>
</body>
</html>